# ============================================
# Environment Variables Template
# ============================================
# Copy this file to .env and fill in your actual values.
# NEVER commit .env to version control!
# ============================================

# ==========================================
# Project Configuration
# ==========================================
COMPOSE_PROJECT_NAME=utec-planificador

# ==========================================
# Database Configuration
# ==========================================
POSTGRES_DB=planificador_db
POSTGRES_USER=planificador_user
POSTGRES_PASSWORD=change_this_password_in_production
POSTGRES_PORT=5432

# ==========================================
# Application Configuration
# ==========================================
# Spring Profile: dev, prod, test
SPRING_PROFILES_ACTIVE=dev

# Application port mapping
APP_PORT=8080
SERVER_PORT=8080

# ==========================================
# JPA Configuration
# ==========================================
# Options: none, validate, update, create, create-drop
JPA_DDL_AUTO=update
HIBERNATE_BATCH_SIZE=20

# ==========================================
# Connection Pool Configuration
# ==========================================
HIKARI_MAX_POOL_SIZE=10
HIKARI_MIN_IDLE=5
HIKARI_CONNECTION_TIMEOUT=30000
HIKARI_IDLE_TIMEOUT=600000
HIKARI_MAX_LIFETIME=1800000

# ==========================================
# CORS Configuration
# ==========================================
CORS_ALLOWED_ORIGINS=http://localhost:4200,http://127.0.0.1:4200

# ==========================================
# Health Check Configuration
# ==========================================
# Database health check
DB_HEALTHCHECK_INTERVAL=10s
DB_HEALTHCHECK_TIMEOUT=5s
DB_HEALTHCHECK_RETRIES=5
DB_HEALTHCHECK_START_PERIOD=10s

# Application health check
HEALTHCHECK_INTERVAL=30s
HEALTHCHECK_TIMEOUT=10s
HEALTHCHECK_RETRIES=3
HEALTHCHECK_START_PERIOD=40s

# ==========================================
# JVM Configuration
# ==========================================
# Leave empty to use defaults from Dockerfile
# Customize for specific needs (e.g., memory, GC):
# JAVA_OPTS=-XX:+UseContainerSupport -XX:MaxRAMPercentage=75.0 -Xms512m -Xmx1024m
JAVA_OPTS=

# ==========================================
# Resource Limits (Production)
# ==========================================
# Database resource limits
DB_CPU_LIMIT=2
DB_MEMORY_LIMIT=2G
DB_CPU_RESERVATION=1
DB_MEMORY_RESERVATION=1G

# Application resource limits
APP_CPU_LIMIT=2
APP_MEMORY_LIMIT=2G
APP_CPU_RESERVATION=1
APP_MEMORY_RESERVATION=1G

# ==========================================
# Restart Policy (Production)
# ==========================================
RESTART_POLICY_CONDITION=on-failure
RESTART_POLICY_DELAY=5s
RESTART_POLICY_MAX_ATTEMPTS=3
RESTART_POLICY_WINDOW=120s

# ==========================================
# Docker Registry (for CI/CD)
# ==========================================
DOCKER_REGISTRY=registry.example.com
APP_VERSION=latest

# ==========================================
# Monitoring & Logging
# ==========================================
LOG_LEVEL=INFO
LOG_DRIVER=json-file
LOG_MAX_SIZE=10m
LOG_MAX_FILE=3

# ==========================================
# PostgreSQL Production Settings
# ==========================================
POSTGRES_MAX_CONNECTIONS=200
POSTGRES_SHARED_BUFFERS=256MB
